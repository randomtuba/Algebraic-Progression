<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Algebraic Progression v1.4</title>
    <link rel="stylesheet" href="style.css" id="style" />
    <link rel="icon" type="image/png" href="https://cdn.glitch.global/f11707a7-4c2e-4e11-b957-162b8f56f334/AP%20current.png?v=1658860107337">
    <script src="game.js" defer></script>
    <script src="save.js" defer></script>
    <script src="break_eternity.js"></script>
    <script src="format.js" defer></script>
    <script src="achievements.js" defer></script>
    <script src="news.js" defer></script>
    <script src="normal/buyables.js" defer></script>
    <script src="normal/upgrades.js" defer></script>
    <script src="quadratic/prestige.js" defer></script>
    <script src="quadratic/quad-upgs.js" defer></script>
    <script src="quadratic/coordinate-plane.js" defer></script>
    <script src="quadratic/square-root.js" defer></script>
    <script src="quadratic/challenges.js" defer></script>
    <script src="quadratic/quad-formula.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12" defer></script>
  </head>
  <body>
    <div id="app">
    <div id="game">
      <div id="news" style="transform: translateX(-2512px); transition: transform 1000s linear 0s; white-space: nowrap"><b>Enter the E</b></div>
    </div><br>
    <button id="tab1" class="tab" onclick="tab('gen')">Generation</button>
    <button id="tab2" class="tab" onclick="tab('options')">Options</button>
    <button id="tab3" class="tab" onclick="tab('stats')">Statistics</button>
    <button id="tab4" class="tab" onclick="tab('achs')">Achievements</button>
    <button id="tab5" class="tab" v-if="player.x.gte(1) || player.totalx2.gte(1)" onclick="tab('upgs')">Upgrades</button>
    <button id="tab6" class="tabQua" v-if="player.totalx2.gte(1)" onclick="tab('quad')">Quadratic</button><br><br>
    <button id="prestige" v-if="(player.y.gte(1) || player.totalx2.gte(1)) && !player.inSqrt" onclick="goQuadratic()">
      Go Quadratic for {{formatWhole(quadFormula())}} x<sup>2</sup><br>(Q)
    </button><br v-if="player.y.gte(1) || player.totalx2.gte(1)"><br v-if="player.y.gte(1) || player.totalx2.gte(1)">
    <span v-if="player.hasCompletedLevel5">
      <span style="color:#229100">You need 1e2950 x<sup>2</sup> and 1e660 Root Essence to go Complex.<br>(next update)</span><br><br>
    </span>
    <div id="points">
      Number = {{player.y.gte(1) ? formatWhole(player.y) + 'y+' : ''}}{{player.x.gte(1) ? formatWhole(player.x) + 'x+' : ''}}{{format(player.points)}}  
    </div>
    <div id="pps">
      You are getting {{formatSmall(pps())}} points per second
    </div>
    <div v-if="player.challenge == 2">
      C2 Exponent: ^{{format(player.chalExponents[0])}}
    </div>
    <div v-if="player.challenge == 9">
      C9 Exponent: ^{{format(player.chalExponents[1])}}
    </div>
    <div v-if="player.challenge == 10">
      Purchases Left: {{player.purchases}}
    </div>
    <button id="clickButton" class="hoverable" onclick="clickButton()">
      +1 Point
    </button>
    <button id="maxAll" class="hoverable" v-if="player.totalx2.gte(1)" onclick="buyMax()">
      Buy Max (M)
    </button><br><br>
    <div id="tab1disp" v-if="player.currentTab == 'gen'"> <!--- GENERATION !--->
      <span v-if="hasUpgrade(6)">Note: Produced Buildings do not reset on Quadratic!<br><br></span>
      <div v-for="a in 3" v-if="BUYABLES[a].unl()">
        <span>{{BUYABLES[a].title}} - {{formatWhole(player.buyables[a])}}{{hasUpgrade(5) ? ' [+' + format(player.buyables[a+6]) + ']' : ''}} ~ {{BUYABLES[a].effectDisplay()}} [{{format(player.buildingPercent[a])}}%]</span><br>
        <button :class="{buildingLocked:player.points.lt(BUYABLES[a].cost()),buildingBuyable:player.points.gte(BUYABLES[a].cost())}" @click="buyBuyable(a)">Buy for {{format(BUYABLES[a].cost())}} points ({{a}})</button><button v-if="hasQU(5)" class="hoverable" @click="player.autobuyers[a] = !player.autobuyers[a]">Auto: {{player.autobuyers[a] ? 'ON' : 'OFF'}}</button><br><br>
      </div>
      <button id="xButton" class="xButton" v-if="player.buyables[3].gte(1) || player.totalx2.gte(1)" onclick="buyVariable('x')">
        Gain x for {{format(xCost())}} points (X)
      </button><br>
      <button v-if="hasQU(6)" class="hoverable" onclick="player.autobuyers[7] = !player.autobuyers[7]">Auto: {{player.autobuyers[7] ? 'ON' : 'OFF'}}</button><br v-if="hasQU(6)">
      <button id="yButton" class="yButton" v-if="hasUpgrade(4) || player.totalx2.gte(1)" onclick="buyVariable('y')">
        Gain y for {{formatWhole(yCost())}}x (Y)
      </button><br>
      <button v-if="hasQU(10)" class="hoverable" onclick="player.autobuyers[8] = !player.autobuyers[8]">Auto: {{player.autobuyers[8] ? 'ON' : 'OFF'}}</button><br v-if="hasQU(10)">
      <br>
      <span v-if="hasUpgrade(4)">Instead of adding to your production, Functions multiply your point production.</span><br>
      <span v-if="hasUpgrade(4)"><b>f(x) * g(x) * h(x):</b> {{format(BUYABLES[4].eff().mul(BUYABLES[5].eff()).mul(BUYABLES[6].eff()))}}</span><br><br>
      <div v-for="a in 3" v-if="BUYABLES[a+3].unl()">
        <span><b>{{BUYABLES[a+3].title}}x) = <span v-html="BUYABLES[a+3].formula()"></span></b></span><br>
        <span>{{BUYABLES[a+3].title}}{{formatWhole(player.buyables[a+3])}}) = {{format(BUYABLES[a+3].eff())}}</span><br>
        <button :class="{buildingLocked:player.points.lt(BUYABLES[a+3].cost()),buildingBuyable:player.points.gte(BUYABLES[a+3].cost())}" @click="buyBuyable(a+3)">Buy for {{format(BUYABLES[a+3].cost())}} points ({{a+3}})</button><button v-if="hasQU(9)" class="hoverable" @click="player.autobuyers[a+3] = !player.autobuyers[a+3]">Auto: {{player.autobuyers[a+3] ? 'ON' : 'OFF'}}</button><br><br>
      </div>
    </div>
    <div id="tab2disp" v-if="player.currentTab == 'options'"> <!--- OPTIONS !--->
      <button class="hoverable" onclick="save()">
        Save
      </button>
      <button class="hoverable" onclick="exportSave()">
        Export
      </button>
      <button class="hoverable" onclick="importSave()">
        Import
      </button>
      <button class="hoverable" onclick="switchTheme()">
        {{player.theme ? "Current Theme: Light" : "Current Theme: Dark"}}
      </button>
      <button id="hardReset" onclick="hardReset()">
        Hard Reset
      </button>
      <br><br>
      Algebraic Progression v1.4<br>
      Made by randomtuba<br>
      Thanks to downvoid, gapples2, and DEMEMZEA for bugfixing<br>
      Game made with Vue.js and break_eternity.js<br><br>
      <a href="https://discord.gg/HhcavwM5rm" target="_blank">Discord Link</a>&nbsp&nbsp&nbsp<a href="https://yahtzeemaster26.github.io/algebraic-progression/" target="_blank">AP Classic</a>&nbsp&nbsp&nbsp<a href="https://randomtuba.github.io/AP-Old/">Original Rewrite</a><br><br>
      Note: Earlier versions of the game have bugs that will not be fixed.
      </div>
    <div id="tab3disp" v-if="player.currentTab == 'stats'"> <!--- STATISTICS !--->
      <div>
      <b>General</b><br>
      You have bought a total of {{formatWhole(player.buyables[1].add(player.buyables[2]).add(player.buyables[3]))}} Buildings.<br>
      You have bought a total of {{formatWhole(player.buyables[4].add(player.buyables[5]).add(player.buyables[6]))}} Functions.<br>
      You have played this game for {{formatTime(player.timePlayed)}}.<br>
      You have produced {{format(player.totalPoints)}} points in total.<br>
      You have bought {{player.xUpgs.length}} X Upgrades.
      </div><br>
      <div v-if="player.totalx2.gte(1)">
      <b style="color: #006DB6">Quadratic</b><br>
      You have collected a total of {{formatWhole(player.totalx2)}} x<sup>2</sup>.<br>
      You have gone Quadratic {{formatWhole(player.quadratics)}} times.<br>
      Your fastest Quadratic is {{formatTime(player.prestigeTimes[1])}}.<br>
      You have spent {{formatTime(player.prestigeTimes[0])}} in this Quadratic.<br>
      You have bought {{player.quadUpgs.length}} Quadratic Upgrades.  
      </div>
      </div>
    <div id="tab4disp" v-if="player.currentTab == 'achs'"> <!--- ACHIEVEMENTS !--->
      {{player.achievements.length}}/30 Achievements completed ({{player.achievements.length / 0.3}}%)<br><br>
      <table class="autocenter">
        <tr v-for="a in 6">
          <td v-for="b in 5" :class="{achievementLocked:!hasAchievement(a*5-5+b),achievementUnlocked:hasAchievement(a*5-5+b)}">
            <b><span style="font-size:20px">{{ACHIEVEMENTS[a*5-5+b].name}}</span></b><br>{{ACHIEVEMENTS[a*5-5+b].desc}}
          </td>
        </tr>
      </table>  
    </div>
    <div id="tab5disp" v-if="player.currentTab == 'upgs'"> <!--- UPGRADES !--->
      <table class="autocenter">
      <tr v-for="a in rowAmt(3)">
      <td v-for="b in 4">
          <button :class="{upgradeLocked:player.x.lt(UPGRADES[a*4-4+b].cost) && !hasUpgrade(a*4-4+b),upgradeBuyable:player.x.gte(UPGRADES[a*4-4+b].cost)&&!hasUpgrade(a*4-4+b),upgradeBought:hasUpgrade(a*4-4+b)}" style="height: 110px; width: 160px" @click="buyUpgrade(a*4-4+b)">
            <span><b>{{UPGRADES[a*4-4+b].title}}</b></span><br>
            {{UPGRADES[a*4-4+b].desc}}<br>
            Cost: {{formatWhole(UPGRADES[a*4-4+b].cost)}}x<br>
          </button>
      </td>
      </tr>
      </table>
    </div>
    <div id="tab6disp" v-if="player.currentTab == 'quad'"> <!--- QUADRATIC !--->
      You have <span class="quadText">{{formatWhole(player.x2)}}</span> x<sup>2</sup>.<br><br>
      <button id="subtab1" class="tabQua" style="font-size: 14px" onclick="player.currentSubtab = 'upgrades'" v-if="hasQU(12)">Quadratic Upgrades</button>
      <button id="subtab2" class="tabQua" style="font-size: 14px" onclick="player.currentSubtab = 'cplane'" v-if="hasQU(12)">Coordinate Plane</button>
      <button id="subtab3" class="tabQua" style="font-size: 14px" onclick="player.currentSubtab = 'sroot'" v-if="hasQU(16)">Square Root</button>
      <button id="subtab4" class="tabQua" style="font-size: 14px" onclick="player.currentSubtab = 'chals'" v-if="hasSU(12)">Challenges</button>
      <button id="subtab5" class="tabQua" style="font-size: 14px" onclick="player.currentSubtab = 'formula'" v-if="hasQU(20)">Quadratic Formula</button>
      <br v-if="hasQU(12)"><br v-if="hasQU(12)">
      <div id="tab6-1disp" v-if="player.currentSubtab == 'upgrades'"> <!--- QUADRATIC UPGRADES !--->
        <table class="autocenter">
        <tr v-for="a in rowAmt(1)">
        <td v-for="b in 4">
          <button :class="{upgradeLocked:player.x2.lt(QUAD_UPGRADES[a*4-4+b].cost) && !hasQU(a*4-4+b),upgradeBuyable:player.x2.gte(QUAD_UPGRADES[a*4-4+b].cost) && !hasQU(a*4-4+b),upgradeBought:hasQU(a*4-4+b)}" style="height: 150px; width: 175px" @click="buyQU(a*4-4+b)">
            <span><b>{{QUAD_UPGRADES[a*4-4+b].title}}</b></span><br>
            {{QUAD_UPGRADES[a*4-4+b].desc}}<br>
            Cost: {{formatWhole(QUAD_UPGRADES[a*4-4+b].cost)}} xÂ²<br>
            {{QUAD_UPGRADES[a*4-4+b].effectDisplay() != null ? 'Currently: ' + QUAD_UPGRADES[a*4-4+b].effectDisplay() : ''}}<br>
          </button>
        </td>
        </tr>
        </table><br>
        <span v-if="hasQU(16)">
          <button class="x2Doubler" onclick="buyDoubler()">
            <b>x<sup>2</sup> Doubler</b><br>
            Double x<sup>2</sup> gain per purchase!<br>
            Amount: {{formatWhole(player.doublers)}}<br>
            Cost: {{format(doublerCost())}}<br>
            Effect: {{format(Decimal.pow(2,player.doublers))}}x x<sup>2</sup> gain
          </button><br><br>
        </span>
        <div v-if="hasQU(14)">
          Auto-Quadratic: Go Quadratic when reaching <input id="quadAuto" size="5"> x<sup>2</sup> <button onclick="player.autobuyers[9] = !player.autobuyers[9]" class="hoverable">{{player.autobuyers[9] ? 'ON' : 'OFF'}}</button>
        </div>
      </div>
      <div id="tab6-2disp" v-if="player.currentSubtab == 'cplane'"> <!--- COORDINATE PLANE !--->
        You have sacrificed <span class="quadText">{{formatWhole(player.sacX)}}</span> x (dividing Y cost scaling by {{format(sacEffect('x'))}}){{hasSU(6) ? ", " : " and "}}<span class="quadText">{{formatWhole(player.sacY)}}</span> y (adding {{format(sacEffect('y'))}} to the g(x) and h(x) bases)<span v-if="hasSU(6)">, and <span class="quadText">{{formatWhole(player.sacX2)}}</span> x<sup>2</sup> (producing {{format(sacEffect('x2'))}} slope/second).<br><br>You have <span class="quadText">{{format(player.slope)}}</span> slope, multiplying production of buildings by {{format(slopeEffect())}}.</span><br><br>
        <span v-if="hasUpgrade(8)">
        You have <span class="quadText">{{format(player.b)}}</span> b (y-intercept), multiplying slope gain by {{format(bEffect(1))}}, multiplying sacrificed X and Y effects by {{format(bEffect(2))}}, and adding {{format(bEffect(3))}} to the slope effect exponent.<br>
        <button :class="{buildingLocked:player.slope.lt(bCost()),buildingBuyable:player.slope.gte(bCost())}" @click="buyB()">Buy for {{format(bCost())}} slope (B)</button><br><br>
        </span>
        <button @click="sacrifice(player.sacrifice)" class="hoverable">Sacrifice</button><button @click="switchSacrifice()" class="hoverable" v-html="player.sacrifice"></button><br>
        <button v-if="hasQU(19)" class="hoverable" onclick="player.autobuyers[10] = !player.autobuyers[10]">Auto: {{player.autobuyers[10] ? 'ON' : 'OFF'}}</button>
      </div>
      <div id="tab6-3disp" v-if="player.currentSubtab == 'sroot'"> <!--- SQUARE ROOT !--->
        You have <span style="color:orange;font-size:20px">{{formatWhole(player.rootEssence)}}</span> root essence.<br>
        <span v-if="hasSU(16)">You have <span style="color:#b56700;font-size:20px">{{formatWhole(player.challengeEssence)}}</span> challenge essence, multiplying root essence gain by {{format(ceEffect(1))}}x and quadratic power gain by {{format(ceEffect(2))}}x.</span><br>
        <button id="enterSqrt" onclick="enterSqrt()">{{player.inSqrt ? "Exit Square Root for " + formatWhole(reFormula()) + " " + (inSqrtLevel(2) ? "Challenge" : "Root") + " Essence. (S)" : "Enter Square Root. (S)"}}</button><br><br>
        <span v-if="hasSU(16)">
          <b>Root Epicenter:</b><br>
          <span v-html="epicenterDescs[player.epicenterLevel]"></span><br>
          <input type="range" min="1" max="5" value="1" class="slider" id="epicSlider">
          <br><br>
        </span>
        <button :class="{upgradeLocked:player.rootEssence.lt(sqrtDoublerCost()),upgradeBuyable:player.rootEssence.gte(sqrtDoublerCost())}" style="height: 150px; width: 175px" onclick="buySqrtDoubler()">
            <b>Root Essence Doubler</b><br>
            Double RE gain per purchase!<br>
            Amount: {{formatWhole(player.sqrtDoublers)}}<br>
            Cost: {{format(sqrtDoublerCost())}}<br>
            Effect: {{format(Decimal.pow(2,player.sqrtDoublers))}}x RE gain
          </button><br><br>
        <table class="autocenter">
        <tr v-for="a in rowAmt(2)">
        <td v-for="b in 4">
          <button :class="{upgradeLocked:player.rootEssence.lt(SQRT_UPGRADES[a*4-4+b].cost) && !hasSU(a*4-4+b),upgradeBuyable:player.rootEssence.gte(SQRT_UPGRADES[a*4-4+b].cost) && !hasSU(a*4-4+b),upgradeBought:hasSU(a*4-4+b)}" style="height: 150px; width: 175px" @click="buySU(a*4-4+b)">
            <span><b>{{SQRT_UPGRADES[a*4-4+b].title}}</b></span><br>
            {{SQRT_UPGRADES[a*4-4+b].desc}}<br>
            Cost: {{formatWhole(SQRT_UPGRADES[a*4-4+b].cost)}} root essence<br>
            {{SQRT_UPGRADES[a*4-4+b].effectDisplay() != null ? 'Currently: ' + SQRT_UPGRADES[a*4-4+b].effectDisplay() : ''}}<br>
          </button>
        </td>
        </tr>
        </table><br>
      </div>
      <div id="tab6-4disp" v-if="player.currentSubtab == 'chals'"> <!--- CHALLENGES !--->
        Endure harder Quadratics and reach the goal to get rewards!<br>
        Click a Challenge to enter it. Click it again to exit/finish.<br>
        <i>Note: Going Quadratic or entering Square Root will exit you from your current Challenge.</i><br><br>
        You have completed {{player.chalCompletions.length}}/10 Challenges.<br><br>
        <table class="autocenter">
          <tr v-for="a in 5">
            <td v-for="b in 2">
              <button style="width: 300px; height: 150px;" @click="startChallenge(a*2-2+b)" :class="{challengeDefault: player.challenge != a*2-2+b, challengeIncomplete: player.challenge == a*2-2+b, challengeComplete: hasChallenge(a*2-2+b) && player.challenge != a*2-2+b}">
                <b>{{CHALLENGES[a*2-2+b].title}}</b><br>
                {{CHALLENGES[a*2-2+b].desc}}<br>
                Goal: Reach {{format(CHALLENGES[a*2-2+b].goal)}} points.<br>
                Reward: {{CHALLENGES[a*2-2+b].rewardDesc}}<br>
                {{(a*2-2+b) == 1 || (a*2-2+b) == 9 ? 'Currently: ' + format(CHALLENGES[a*2-2+b].effect()) + 'x' : ''}}
              </button>
            </td>
          </tr>
        </table>
      </div>
      <div id="tab6-5disp" v-if="player.currentSubtab == 'formula'"> <!--- QUADRATIC FORMULA !--->
        You have <span class="quadFormulaText">{{format(player.quadPower)}}</span> quadratic power. ({{format(qpGen())}}/sec)<br>
        To generate Quadratic Power, a, b, and c when plugged into the <b>Quadratic Formula</b> must return a real solution.<br>
        Base QP Generation Formula: (bc)<sup>a/2 - 0.5</sup><br>
        <span :class="{realSolution: player.abc[2].pow(2).sub(new Decimal(4).mul(player.abc[1]).mul(player.abc[3])).gte(0), nonrealSolution: player.abc[2].pow(2).sub(new Decimal(4).mul(player.abc[1]).mul(player.abc[3])).lt(0)}">{{player.abc[2].pow(2).sub(new Decimal(4).mul(player.abc[1]).mul(player.abc[3])).gte(0) ? "a, b, and c return a real solution!" : "a, b, and c return a nonreal solution..."}}</span><br><br>
        <div v-for="a in 3">
          <span>{{tmp.letters[a]}}: {{player.abc[a]}}/{{maxABC()}}   </span>
          <button class="hoverable" @click="if(player.abc[a].lt(maxABC())){player.abc[a] = player.abc[a].add(1)}">+</button><button class="hoverable" @click="if(player.abc[a].gt(0)){player.abc[a] = player.abc[a].sub(1)}">-</button><button class="hoverable" @click="player.abc[a] = new Decimal(0)">0</button><br>
        </div><br><br>
        <table class="autocenter">
          <td v-for="a in 4">
            <button style="width: 150px; height: 175px;" :class="{upgradeLocked:player.quadPower.lt(QP_BUYABLES[a].cost()),qpBuyable:player.quadPower.gte(QP_BUYABLES[a].cost()),upgradeBought:a==1&&player.quadBuyables[1].eq(4)}" @click="buyQPBuyable(a)">
              <b>{{QP_BUYABLES[a].title}}</b><br>
              {{QP_BUYABLES[a].desc}}<br>
              Amount: {{player.quadBuyables[a]}}{{a == 1 ? "/4" : ""}}<br>
              Cost: {{QP_BUYABLES[a].cost().eq(Infinity) ? "Maxed!" : format(QP_BUYABLES[a].cost())}}<br>
              Effect: {{QP_BUYABLES[a].effectDisplay()}}
            </button>
          </td>
        </table>
      </div>
      </div>
    </div>
  </body>
</html>